<ng-template #content let-modal>
  <div class="modal-header" style="background-color: #EFF0F3;">
    <h4 class="modal-title" id="modal-basic-title">Tạo kế hoạch mới</h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
      style="background-color: white; border-radius: 10px; padding: 10px; margin: -0.5rem -0.5rem -1rem auto; outline: none;"
    >
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <div class="form-group">
        <label for="dateOfBirth">Tên kế hoạch</label>
        <div class="input-group">
          <input
            id="dateOfBirth"
            class="form-control"
            placeholder="Kế hoạch"
            type="text" name="productName" [(ngModel)]="product.name" required
          />
        </div>
      </div>
      <div class="time-wrapper">
        <div class="time-container">
          <span>Từ ngày</span><br>
        </div>
        <div class="time-container">
          <span>Từ ngày</span>
        </div>
      </div>
      <div class="time-wrapper">
        <div class="time-container">
          <div class="input-group">
            <input id="dateOfBirth" class="form-control" placeholder="dd-mm-yyyy" name="fromDate" ngbDatepicker #fromDate="ngbDatepicker" [(ngModel)]="product.fromDate">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary calendar" (click)="fromDate.toggle()" type="button"><fa-icon [icon]="faCalendarCheck"></fa-icon></button>
            </div>
          </div>
        </div>
        <div class="time-container">
          <div class="input-group">
            <input id="dateOfBirth" class="form-control" placeholder="dd-mm-yyyy" name="toDate" ngbDatepicker #toDate="ngbDatepicker" [(ngModel)]="product.toDate">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary calendar" (click)="toDate.toggle()" type="button"><fa-icon [icon]="faCalendarCheck"></fa-icon></button>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="dateOfBirth">Miêu tả</label>
        <div class="input-group">
          <textarea
            id="dateOfBirth"
            class="form-control"
            placeholder="Miêu tả"
            type="text" name="productDesc" [(ngModel)]="product.desc"
            
          ></textarea>
        </div>
      </div>
      <div>
        <span>File Đính kèm</span>
      </div>
      
    </form>
  </div>
  <div class="modal-footer" style="border: none">
    <button
      type="button"
      class="btn cancel-btn"
      (click)="resetValues();modal.close('Save click')"
    >
      Hủy
    </button>
    <button
      type="button"
      class="btn save-btn"
      (click)="addProduct();modal.close('Save click')"
    >
      Tạo kế hoạch mới
    </button>
  </div>
</ng-template>

<button class="btn btn-lg btn-outline-primary" (click)="open(content)">
  Tạo kế hoạch mới
</button>
<!-- Use for testing database -->
<!-- <div>
  <input type="text" name="productName" [(ngModel)]="product.name">
  <button [hidden]="add" (click)="addProduct()">add Product</button>
  <button [hidden]="edit" (click)="updateProduct()">Update Product</button>
</div>


<table id="products">
  <tr>
    <th>S/N</th>
    <th>Name</th>
    <th>Desc</th>
    <th>Update</th>
    <th>Delete</th>
  </tr>
  <tr *ngFor="let product of products">
    <td>{{product.id}}</td>
    <td>{{product.name}}</td>
    <td>{{product.fromDate}}</td>

    <td><button (click)="setProductEdit(product)">Update</button></td>
    <td><button (click)="removeProduct(product)">Delete</button></td>
  </tr>
</table> -->

<app-main-post *ngFor="let product of products" (productEdit)="setProductEdit($event)" [productItem]="product"></app-main-post> 
